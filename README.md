## Проект 5. Трекер привычек

Проект представляет собой приложение для трекера привычек.

Суть методики приобретения полезных привычек описана [**тут**](https://www.google.com/amp/s/lifehacker.ru/pravilo-dvux-minut/amp/).

Приложение позволяет отслеживать полезные привычки для зарегистрированного пользователя и напоминать о них за 15 минут.

## CRUD привычек текущего пользователя

### Эндпоинты:

```GET /habits/ — список привычек текущего пользователя (с пагинацией)```

```POST /habits/ — создание```

```GET /habits/{id}/ — просмотр```

```PUT /habits/{id}/ — полное обновление```

```PATCH /habits/{id}/ — частичное обновление```

```DELETE /habits/{id}/ — удаление```



## Запуск проекта

1. Зарегистрировать нового пользователя по адресу http://127.0.0.1:8000/user/register/
2. Авторизоваться по адресу http://127.0.0.1:8000/user/login/
3. Создать привычку по адресу http://127.0.0.1:8000/habits/

Выполнить команду в Postman:
```POST http://127.0.0.1:8000/habits/```
```json
{
  "user": 2,
      "place": "Баня",
      "time": "07:10:00",
      "action": "Холодная купель",
      "is_pleasant": false,
      "related_habit": 8,
      "periodicity": 2,
      "reward": "",
      "duration": "00:02:00",
      "is_public": false
}
```

Или в терминале:

```bash
curl -X POST http://127.0.0.1:8000/habit/habits/ \
     -H "Authorization: Bearer <твой_access_token>" \
     -H "Content-Type: application/json" \
     -d '{"place": "Баня", "time": "07:10:00", "action": "Холодная купель", "is_pleasant": false, "related_habit": 8, "periodicity": 2, "reward": "", "duration": "00:02:00", "is_public": false}'
```

Для напоминания о полезной привычке создана интеграция с приложением [**Telegram**](https://t.me/stasm226_habit_bot).

В терминале запускаем Redis и Celery:

```bash
redis-server
```
![Запуск Redis](/media/readme/1.png)

```bash
celery -A config worker -l info
```
![Запуск Celery](/media/readme/2.png)

Создана тестовая задача, которая при успешном запуске выводит сообщение в консоль: "Задача работает!"

![Запуск Celery Beat](/media/readme/3.png)


## Права доступа

 Зарегистрированному и авторизованному пользователю доступны все эндпоинты CRUD-операций со своими привычками. А также просмотр публичных привычек всех пользователей без возможности их редактирования и удаления.

## Тесты

Для CRUD операций с привычками и написаны тесты. Также тесты написаны для операций регситрации и авторизации пользователя.
Тестами покрыто 86% кода.


## Документирование

Документация доступна по адресу http://127.0.0.1:8000/swagger/ и http://127.0.0.1:8000/redoc/
